<section id="deployment">
  <h2>Deployment</h2>
  <p>
    Go4lage comes ready to ship. The recommended way is to run it with docker
    and have one native entrance NGINX instance running that you use for SSL.
  </p>
  <p>
    If you go this recommend route, the whole process will take 1-3 hours max as
    you only need to setup your domian, native NGINX and SSL
  </p>
  <p>
    (You might have noticed that there is no extra slow dev server. Only a
    native version for heavy deployment) Go is just compiling so fast, that no
    extra dev server is needed.
  </p>
  <p>
    The go4lage packacke consists of a POSTGRES db, the Go4lage app, and 2
    volumes. One for the database and one for dynamic media.
  </p>

  <div style="display: flex; justify-content: center; margin: 25px">
    <img width="650px" src="pics/deploy.png" alt="deployment" />
  </div>

  <p>
    The native NGINX should handle the SSL encription. It is recommended to use
    <a href="https://certbot.eff.org" alt="Link to certbot"><b>certbot</b></a>
    for ssl. it is very good and free of charge.
  </p>
  <p>Basic access logging is also already included in Go4lage.</p>
  <p>
    It is recommended to set caching, especially for css, js and media to long,
    as Go4lage provides a built in cache buster that renames static files after
    each reload.
  </p>

  <pre><code>#default.conf
      server {
          server_name example.com subdomain.example.com www.example.com;
      
          large_client_header_buffers 4 16k;
          client_max_body_size 500M;
          listen 80;

          location / {
          proxy_pass http://localhost:81;
          proxy_set_header Host $host;
          proxy_set_header X-Real-IP $remote_addr;
          proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
          proxy_set_header X-Forwarded-Proto $scheme;
          }        
      }
   </code></pre>
</section>
