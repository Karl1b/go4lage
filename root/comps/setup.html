<section id="setup">
  <h2>Setup</h2>

  <h3>Variant One: With Docker (Compose)</h3>

  <ol>
    <li>Clone this repo.</li>
    <li>Copy the <b>docker </b>environment settings to the .env file</li>
    <li>Adjust the .env file to your needs.</li>
    <li>Start the docker compose network.</li>
    <li>Hack inside the container and create your superuser.</li>
  </ol>

  <pre><code>#!/bin/bash
      git clone git@github.com:Karl1b/go4lage.git
      cd go4lage
      cp dockerenv.env .env
      docker-compose up -d
      docker-compose exec app /app/go4lage createsuperuser
  </code></pre>

  <p>
    Congratulations, you did setup a high performance dockerized webservice in
    less than 2 minutes.
  </p>

  <p>
    The recommended way of finishing the setup is to run a native NGINX instance
    as main reverse proxy.
  </p>

  <h3>Variant Two: Without Docker with Native DB</h3>
  <p>(Useful for Development)</p>
  <ol>
    <li>Clone this repo.</li>
    <li>Navigate to the SQL package and generate SQL Queries with sqlc</li>
    <li>Copy the native environment settings to the .env file</li>
    <li>Adjust the .env file to your needs.</li>
    <li>Setup postgres db and user. Grant the user all rights on the db.</li>
    <li>build the application</li>
    <li>Migrate your database.</li>
  </ol>

  <pre><code>#!/bin/bash
    git clone git@github.com:Karl1b/go4lage.git
    cd go4lage/pkg/sql
    sqlc generate
    cd ../..
    cp nativeenv.env .env
    go build 
    ./go4lage rungoose up
    ./go4lage createsuperuser
    ./go4lage startserver
</code></pre>

  <p>
    Congratulations, you did setup a native high performance webservice in less
    than 5 minutes.
  </p>
  <p>
    It is recommended to use the same database for production and development,
    with go4lage it is really simple to do. you can use $./go4lage rungoose down
    to down migrations and for applying new queries run sqlc generate, as shown
    in the code block. There is hence no need for a development only SQLlite db.
  </p>
</section>
