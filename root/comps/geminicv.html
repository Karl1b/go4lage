<section id="geminicv">
  <h1>Recipe CV Assistant with LLM API</h1>
  <p>
    As a demonstration of how to utilize Go4Lage, I present my entry to the Google Gemini
    AI Challenge. The objective was to create a web application leveraging the Gemini
    AI API. This challenge provided an opportunity to test Go4Lage, resulting in
    a functional backend with minimal effort, all sparked by a spontaneous decision
    after noticing the challenge on LinkedIn.
  </p>
  <p><b>Gemini CV</b> performs two main functions:</p>
  <ul>
    <li>Generates a new CV for you.</li>
    <li>Optimizes the CV for maximum salary potential.</li>
  </ul>
  <p><b>Gemini CV</b> includes the following features:</p>
  <ul>
    <li>Allows users to upload their CV or draft in PDF or Text format.</li>
    <li>Analyzes the performance of the current CV.</li>
    <li>Generates an improved version of the CV.</li>
    <li>Compares the results and allows the user to choose the best version.</li>
    <li>
      Users can repeat the process iteratively, making manual adjustments
      in between.
    </li>
  </ul>
  <p>
    This process provides users with an optimized CV, saving time and effort,
    and potentially <b>increasing their salary by 5-10%.</b>
  </p>
  <p>
    This project served as a testing ground for the initial design of Go4Lage, helping to
    fix minor bugs and address unforeseen issues. While initially intended as a test,
    the project turned out to be both enjoyable and rewarding.
  </p>
  <p>
    The development process was swift and straightforward, with minimal attention needed for bug fixes.
  </p>
  <p>
    The result is a performant application with minimal vendor lock-in, and a
    codebase of roughly 1,000 lines in the backend. (excluding prompts, of course).
  </p>
  <p>
    The only significant dependency is the Gemini AI API, encapsulated in a
    custom wrapper that allows interchangeability with other LLM APIs, including
    free options like Ollama. While this might not align with Google's
    expectations, a development challenge must be open to outcomes that question
    the value of a specific business model. This approach is not only easier but
    also avoids many potential bugs.
  </p>
  <h2>Watch the Video</h2>
  <hr />
  <p>
    The competition required a video submission on YouTube. As a developer and not a
    video creator, the result may not be a masterpiece, but it gets the job done.
    <a href="https://www.youtube.com/watch?v=jHNNeVSqJMI" style="color: blue;" target="_blank" rel="noopener noreferrer"
      >Watch GeminiCV on YouTube</a>.
  </p>
  <h2>Test GeminiCV Locally</h2>
  <hr />
  <p>
    Follow the steps below to run the app locally on your machine. Note that you
    will need your own Gemini API key for it to work:
  </p>
  <pre><code>#!/bin/bash
    git clone https://github.com/Karl1b/go4lage.git
    cd go4lage
    git checkout geminicv
    cp dockerenv.env .env
    # Adjust the .env file as needed
    docker-compose build
    docker-compose up -d
    docker exec -it geminicv_app /app/go4lage createsuperuser
</code></pre>
  <p>You can now go to the URL /admin to use Go4Lage's admin dashboard.</p>
  <h2>Screenshots</h2>
  <hr />
  <div>
    <img height="400px" src="pics/screen1.png" alt="Example screenshot 1" />
    <img height="400px" src="pics/screen2.png" alt="Example screenshot 2" />
    <img height="400px" src="pics/screen3.png" alt="Example screenshot 3" />
  </div>
  <h1>Steps to Create the Backend</h1>
  <hr />
  <p>
    This is a brief walkthrough. Simply git checkout geminicv to see the code.
  </p>
  <h2>SQL Database / Model</h2>
  <hr />
  <p>
    <b>1. Create your SQL schema at ./pkg/sql/schema/:</b> Use native SQL to
    define it. This should be well-defined before going into production. Do
    not modify the base structures; instead, extend them as needed.
  </p>
  <p>
    <b>2. Create your SQL queries at ./pkg/sql/queries/:</b> Use native SQL to
    define them. LLMs can assist with more complex SQL queries.
  </p>
  <p>
    <b>3. Automatically generate the Go queries:</b> Run
    <code>sqlc generate</code>. This will provide all the necessary Go code with
    autocomplete support.
  </p>
  <p>
    In general: Avoid using a different database like SQLite for development and
    production. Instead, use Postgres as indicated in the setup.
    <code>./go4lage rungoose up</code> and
    <code>./go4lage rungoose down</code> will be your go-to commands. This approach is
    faster than deleting and recreating your SQLite database.
  </p>
  <h2>Endpoints</h2>
  <hr />
  <p>This is the logic layer of the application.</p>
  <p>
    <b>1. Create a specific app folder for your package:</b> In this case, it is
    <code>./pkg/geminicv</code>.
  </p>
  <p>
    <b>2. Create your package Go files:</b> Use two files, one for the prompts
    and one for the endpoint. Access the user via the context:
    <code>user, ok := r.Context().Value(utils.UserKey{}).(db.User)</code>.
  </p>
  <h2>Register API Endpoints</h2>
  <hr />
  <p>Register your endpoints in the <code>url.go</code> file.</p>
  <p>
    <b>1. Initialize your app struct:</b> This gives you access to the
    SQL queries and .env options.
  </p>
  <p>
    <b>2. Route your endpoints:</b> Use the appropriate authentication middleware with
    permissions and groups if needed.
  </p>
  <h2>.env Configuration</h2>
  <hr />
  <p>
    For this app, three additional settings are required:
    <br />API Key: <code>GEMINIKEY=y0urS3cr3tKeyGo3sheReDon0tShare</code>
    <br />Limit on runs per user to prevent abuse:
    <code>CVRUNS_PER_USER=20</code> <br />Timeout for the Gemini LLM API
    response: <code>SCAN_TIMEOUT_SECONDS=211</code>
  </p>
  <h2>Frontend Integration</h2>
  <hr />
  <p>
    Go4Lage is not specific to React, and it's not necessary to let Go4Lage
    serve the frontend. In this example, I used the <code>./root</code> folder
    as the build destination for my React Vite builder. This approach creates an
    all-in-one package, but it is optional. You can point your frontend
    endpoints to the backend and be ready to go.
  </p>
  <p>The React frontend is also provided as an example in this repository.</p>
</section>